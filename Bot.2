from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes

TOKEN = "321"


# ---------- –ú–ï–ù–Æ ----------
def main_menu():
    keyboard = [
        [InlineKeyboardButton("–ù–∞—à–∞ –ö–æ–º–∞–Ω–¥–∞", callback_data='text1'),
         InlineKeyboardButton("Order", callback_data='text4')],
        [InlineKeyboardButton("Price Forex", callback_data='text3'),
         InlineKeyboardButton("GEO Fx", callback_data='menu_forex')],
        [InlineKeyboardButton("Price Charge", callback_data='text5'),
         InlineKeyboardButton("GEO ChB", callback_data='menu_Charge')],
        [InlineKeyboardButton("Invalids", callback_data='menu_Invalid')]
        
    ]
    return InlineKeyboardMarkup(keyboard)


def forex_menu():
    keyboard = [
        [InlineKeyboardButton("Asia", callback_data='fx_asia')],
        [InlineKeyboardButton("Europe", callback_data='fx_eu')],
        [InlineKeyboardButton("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data='back_main')]
    ]
    return InlineKeyboardMarkup(keyboard)


# ---------- /start ----------
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "Show me:",
        reply_markup=main_menu()
    )


# ---------- –ö–ù–û–ü–ö–ò ----------
async def button(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    # ---- –ë–ï–ó –ü–û–î–ú–ï–ù–Æ ----
    if query.data == 'text1':
        await query.edit_message_text(
            """–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç ü§ó
–†–∞–¥—ã –∑–Ω–∞–∫–æ–º—Å—Ç–≤—É ü§ù
-------------
–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞:
–¢–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫–∞""",
            reply_markup=main_menu()
        )

    elif query.data == 'text3':
        await query.edit_message_text(
            """
""",
            reply_markup=main_menu()
        )

    elif query.data == 'text4':
        await query.edit_message_text(
            """–ö–æ—à –Ω–∞ –Ø–Ω–≤–∞—Ä—å


""",
            reply_markup=main_menu()
        )

    elif query.data == 'text5':
        await query.edit_message_text(
            """–ü—Ä–∏–≤–µ—Ç ‚úåÔ∏è

–î–∞–≤–∞–π—Ç–µ —Å–≤–µ—Ä–∏–º—Å—è –ø–æ –Ω–µ–≤–∞–ª–∏–¥—É –∑–∞ –ø—Ä–æ—à–ª—É—é –Ω–µ–¥–µ–ª—é!

–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π –∏ –¥–µ–ø–æ–∑–∏—Ç–Ω–æ–π –Ω–µ–¥–µ–ª–∏ üí™üî•""",
            reply_markup=main_menu()
        )

    # ---- FOREX (–° –ü–û–î–ú–ï–ù–Æ) ----
    elif query.data == 'menu_forex':
        await query.edit_message_text(
            "üìä Price Forex\n–í—ã–±–µ—Ä–∏—Ç–µ offer:",
            reply_markup=forex_menu()
        )

    elif query.data == 'fx_asia':
        await query.edit_message_text(
            "üåè Asia\nPrice: 40$\nCR: 11%",
            reply_markup=forex_menu()
        )
            elif query.data == 'fx_asia':
        await query.edit_message_text(
            "üåè Asia\nPrice: 40$\nCR: 11%",
            reply_markup=forex_menu()
        )  
        
        elif query.data == 'fx_asia':
        await query.edit_message_text(
            "üåè Asia\nPrice: 40$\nCR: 11%",
            reply_markup=forex_menu()
        )

    elif query.data == 'fx_eu':
        await query.edit_message_text(
            "üåç Europe\nPrice: 45$\nCR: 12%",
            reply_markup=forex_menu()
        )

    # ---- –ù–ê–ó–ê–î ----
    elif query.data == 'back_main':
        await query.edit_message_text(
            "Show me:",
            reply_markup=main_menu()
        )


# ---------- –ó–ê–ü–£–°–ö ----------
def main():
    app = Application.builder().token(TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(button))
    app.run_polling()


if __name__ == "__main__":
    main()
